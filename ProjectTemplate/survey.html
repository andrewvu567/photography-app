
<!DOCTYPE html>
<html>
<head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
   <script type="text/javascript">
       function CreateAccount(username, password, email, first_name, is_photographer, availability, style, type, range, experience) {
           var webMethod = "ProjectServices.asmx/CreateAccount";
           var parameters = "{\"username\":\"" + encodeURI(username) + "\",\"password\":\"" + encodeURI(password) +
               "\",\"email\":\"" + encodeURI(email) + "\",\"first_name\":\"" + encodeURI(first_name) + "\",\"is_photographer\":\""
               + encodeURI(is_photographer) + "\",\"availability\":\"" + encodeURI(availability) +
               "\",\"style\":\"" + encodeURI(style) + "\",\"type\":\"" + encodeURI(type) +
               "\",\"range\":\"" + encodeURI(range) + "\",\"experience\":\"" + encodeURI(experience) + "\"}";

           $.ajax({
               type: "POST",
               url: webMethod,
               data: parameters,
               contentType: "application/json; charset=utf-8",
               dataType: "json",
               success: function (msg) {
                   if (msg.d) {
                       alert("Account created, logging you in.");
                       //window.location.href = 'home.html';
                   }
                   else {
                       alert("A username already exists! Please try another.")
                   }
               },
               error: function (e) {
                   alert("Issue!");
               }
           });
       }

       /* Parse Survey and output User Info */

       function parseSurvey() {
           username = $("#usernameInput").val();
           password = $("#passwordInput").val();
           userType = $(".radioButtons1:checked").val();
           photoStyle = $(".radioButtons2:checked").val();
           photoType = $(".radioButtons3:checked").val();
           expPreference = $(".radioButtons4:checked").val();
           firstName = $("#firstName").val();
           lastName = $("#lastName").val();
           email = $("#emailAddress").val();
           availabilityInput = $("#freeText").val();

           //Portrait: $100 - $300
           //Event: $200 - $500
           //Wedding: $500 - $2, 000
           //Headshot: $50 - $200
           //Group: $200 - $500
           //Family: $150 - $300
           //Baby: $150 - $300
           //Grad: $50 - $300

           var matchingDict = {
               "username": username,
               "user_type": userType,
               "photo_style": photoStyle,
               "photo_type": photoType,
               "experience": expPreference,
               }

           var priceDict = {
               "portrait": "$100 - $300",
               "event": "$200 - $500",
               "wedding": "$500 - $2,000",
               "headshot": "$50 - $200",
               "group": "$200 - $500",
               "family": "$150 - $300",
               "baby": "$150 - $300",
               "grad": "$50 - $300",
           }

           $("#formDiv").hide();

           $("#userInfo").html("<h1 id='finalUserInfo'><b>Welcome " + username + "!</b>" + " This is our photography appointment system.</h1>" + "<h2>Below is your information:" + "<br><br>" + "You are a " + userType + ". Your preferred photo style is  " + photoStyle + ". Your photo type is " + photoType + ".</h2>");
           $("#userInfo").append("<h2 id=calculate>Based on your preferred photo type, below is a price range you can expect for your service:" + "<br><br>" + "<b>" + priceDict[photoType] + "</b>" + "</h2>");
       }
	</script> 


    <link rel="stylesheet" type="text/css" href="survey_styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script type="text/javascript" src="script.js"></script>
</head>


<body id="bodyID">

    <!-- <div class="nav">
        <a href="index.html"><i class="fa fa-fw fa-home"></i> Home</a>
        <a href="survey.html"><i class="fa fa-fw fa-pencil-square-o"></i>Survey</a>
    </div> -->

    <div id="userInfo" style="text-align: center;">

    </div>
    

 <!-- Survey questions form -->

    <div id="formDiv" class="survey-container">
        <div class="nav">
            <a href="index.html"><i class="fa fa-fw fa-home"></i> Home</a>
            <a href="survey.html"><i class="fa fa-fw fa-pencil-square-o"></i>Survey</a>
        </div>
        <div id="white-background">
            <h1>PLEASE FILL OUT THE SURVEY BELOW!</h1>
            <div id="mainDiv" class="survey-body">
                <form onsubmit="CreateAccount($('#usernameInput').val(), $('#passwordInput').val(), $('#emailAddress').val(),
                $('#firstName').val(), $('.radioButtons1:checked').val(), $('#availabilityInput').val(), $('.radioButtons2:checked').val(),
                $('.radioButtons3:checked').val(), $('#budgetOrRates').val(), $('.radioButtons4:checked').val());parseSurvey();return false;">
                    <br>

                    <label class="questions">Are you a photographer or a client?</label><br>
                    <input class="radioButtons radioButtons1" type="radio" id="userTypeChoiceOne" name="userTypeSelection" value="Photographer" required>
                    <label class="userTypeLabels" for="userTypeChoiceOne">Photographer</label><br>
                    <input class="radioButtons radioButtons1" type="radio" id="userTypeChoiceTwo" name="userTypeSelection" value="Client">
                    <label class="userTypeLabels" for="userTypeChoiceTwo">Client</label><br><br>

                    <input class="inputBox" id="usernameInput" type="text" placeholder="Username" required>
                    <input class="inputBox" id="passwordInput" type="password" placeholder="Password" required><br><br>

                    <label class="questions" for="firstName">First Name:</label>
                    <input class="inputBox" type="text" id="firstName" name="firstName" required><br><br>

                    <label class="questions" for="emailAddress">Email Address:</label>
                    <input class="inputBox" type="email" id="emailAddress" name="emailAddress" required><br><br>

                    <label class="questions">When is your desired photo session? Please include month, day, and year.</label><br>
                    <textarea class="inputBox" id="availabilityInput" rows="10" cols="62" required></textarea><br><br>

                    <label class="questions">Preferred photograph style?</label><br>
                    <input class="radioButtons radioButtons2" type="radio" id="styleChoiceOne" name="photoStyleSelection" value="Nature" required>
                    <label class="photoStyleLabels" for="styleChoiceOne">Nature/Outdoors</label><br>

                    <input class="radioButtons radioButtons2" type="radio" id="styleChoiceTwo" name="photoStyleSelection" value="Natural Lighting">
                    <label class="photoStyleLabels" for="styleChoiceTwo">Natural Lighting</label><br>

                    <input class="radioButtons radioButtons2" type="radio" id="styleChoiceThree" name="photoStyleSelection" value="Studio">
                    <label class="photoStyleLabels" for="styleChoiceThree">Studio</label><br>

                    <input class="radioButtons radioButtons2" type="radio" id="styleChoiceFour" name="photoStyleSelection" value="Studio Lighting">
                    <label class="photoStyleLabels" for="styleChoiceFour">Studio Lighting</label><br><br>

                    <label class="questions">Preferred photo type?</label><br>
                    <input class="radioButtons radioButtons3" type="radio" id="typeChoiceOne" name="photoTypeSelection" value="portrait" required>
                    <label class="photoTypeLabels" for="typeChoiceOne">Portrait</label><br>

                    <input class="radioButtons radioButtons3" type="radio" id="typeChoiceTwo" name="photoTypeSelection" value="event">
                    <label class="photoTypeLabels" for="typeChoiceTwo">Event</label><br>

                    <input class="radioButtons radioButtons3" type="radio" id="typeChoiceThree" name="photoTypeSelection" value="wedding">
                    <label class="photoTypeLabels" for="typeChoiceThree">Wedding</label><br>

                    <input class="radioButtons radioButtons3" type="radio" id="typeChoiceFour" name="photoTypeSelection" value="headshot">
                    <label class="photoTypeLabels" for="typeChoiceFour">Headshot</label><br>

                    <input class="radioButtons radioButtons3" type="radio" id="typeChoiceFive" name="photoTypeSelection" value="group">
                    <label class="photoTypeLabels" for="typeChoiceFive">Group</label><br>

                    <input class="radioButtons radioButtons3" type="radio" id="typeChoiceSix" name="photoTypeSelection" value="family">
                    <label class="photoTypeLabels" for="typeChoiceSix">Family</label><br>

                    <input class="radioButtons radioButtons3" type="radio" id="typeChoiceEight" name="photoTypeSelection" value="baby">
                    <label class="photoTypeLabels" for="typeChoiceEight">Baby</label><br>

                    <input class="radioButtons radioButtons3" type="radio" id="typeChoiceNine" name="photoTypeSelection" value="grad">
                    <label class="photoTypeLabels" for="typeChoiceNine">Grad Photos</label><br><br>

                    <label class="questions" for="budgetOrRates">Budget or Range of Rates:</label>
                    <input class="inputBox" type="text" id="budgetOrRates" name="budgetOrRates" required><br><br>

                    <label class="questions">Preferred photography experience?</label><br>
                    <input class="radioButtons radioButtons4" type="radio" id="expChoiceOne" name="expSelection" value="beginner" required>
                    <label class="expLabels" for="expChoiceOne">Beginner (1-3 years)</label><br>

                    <input class="radioButtons radioButtons4" type="radio" id="expChoiceTwo" name="expSelection" value="intermediate">
                    <label class="expLabels" for="expChoiceTwo">Intermediate (3-5 years)</label><br>

                    <input class="radioButtons radioButtons4" type="radio" id="expChoiceThree" name="expSelection" value="advanced">
                    <label class="expLabels" for="expChoiceThree">Advanced (5+ years)</label><br><br><br>

                    <input class="inputBox" type="submit" value="Sign Up">
                </form>
            </div>
        </div>
    </div>

</body>
</html>